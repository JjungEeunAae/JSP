<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>util/calendar.html</title>
  </head>
  <body>
    <h3>달력만들기</h3>
    <div id="show"></div>

    <script>
      // 년도는 하지 않음
      let month = 4;
      makeCalendar(month);

      function getLastDate(month) {
        // 마지막 날짜를 반환해주는 함수
        if (
          month == 1 ||
          month == 3 ||
          month == 5 ||
          month == 7 ||
          month == 8 ||
          month == 10 ||
          month == 12
        ) {
          return 31;
        } else if (month == 2) {
          return 28;
        } else if (month == 4 || month == 6 || month == 9 || month == 11) {
          return 30;
        }
      }

      function getFirstDay(month) {
        // 1일의 요일 정보를 반환하는 함수
        if (month == 1 || month == 10) {
          return 0;
        } else if (month == 2 || month == 3 || month == 11) {
          return 3;
        } else if (month == 4 || month == 7) {
          return 6;
        } else if (month == 5) {
          return 1;
        } else if (month == 6) {
          return 4;
        } else if (month == 8) {
          return 2;
        } else if (month == 9 || month == 12) {
          return 5;
        }
      }

      function makeCalendar(month) {
        let table = document.createElement("table");
        // 속성지정
        table.setAttribute("border", 1);
        let tbody = document.createElement("tbody");
        table.append(tbody);
        let tr = document.createElement("tr");

        // 요일에 맞는 요일에 맞춰 정렬시켜주는 for문
        for (let i = 0; i < getFirstDay(month); i++) {
          let td = document.createElement("td");
          tr.append(td);
        }

        // 요일에 맞는 맨 첫줄 공백을 처리하기 위한 for문
        for (let i = 1; i <= getLastDate(month); i++) {
          let td = document.createElement("td");
          td.innerText = i;
          tr.append(td);
          td.style = "width : 50px";
          //
          if ((i + getFirstDay(month)) % 7 == 0) {
            tbody.append(tr);
            tr = document.createElement("tr");
          }
        }
        tbody.append(tr);
        // table =>
        show.append(table);
      }
    </script>
  </body>
</html>
